<html>
    <head>
      <style>
      .title{
            position: fixed;
       }

       rect {
          cursor: pointer;
          fill:#b3d9ff;
          fill-opacity: 0.5;
          stroke: #000000;
          stroke-width: 1.5px;
        }

        text {
          font: 13px sans-serif;
          pointer-events: none;
        }

       </style>
    </head>

    <body style="overflow-y:hidden; overflow-x:scroll;">
      <script src="https://d3js.org/d3.v4.min.js"></script>
      <script src="//d3js.org/d3-scale-chromatic.v0.3.min.js"></script>
      <form action="" method ="post" name ="register">
        <div class="title">
          <b>Result</b><br>
          <button type="button" onclick="return remove_all();"> Remove all </button>
          <button type="button" onclick="return remove();"> Remove</button>
        </div>
      </form>

      <script>
      //aggiungi testo come hyperlink
      var count = 0;
      var svgContainer = d3.select("body").append("svg")
        .attr("width", 20000)
        .attr("height", 20000);

      function add_block_to_chain(selectedGadget){
        count = count + 1;
        var rectangle = svgContainer.append("rect")
        .attr("x", -50 + (count*120))
        .attr("y", 60)
        .attr("rx", 4)
        .attr("ry", 4)
        .attr("width", 100)
        .attr("height", 50)
        .attr("class", "rect" + count)
        .on("click", function(d){
          parent.choices.selectedGadget = selectedGadget;
          parent.choices.add_gadget_info_window();
          });

        svgContainer.append("text")
            .attr("x", (count*120))
            .attr("y", 85)
            .attr("dy", 0)
            .attr("class", "rect" + count)
            .attr("text-anchor", "middle")
            .attr("dominant-baseline", "central")
            .text(selectedGadget.data.type);
      }

      function remove_all(){
        svgContainer.selectAll("rect").remove();
        svgContainer.selectAll("text").remove();
        count = 0;
      }

      function remove(){
        if(count > 0){
          svgContainer.selectAll(".rect" + count).remove()
          count = count - 1;
        }
      }

    </script>

    </body>
</html>
